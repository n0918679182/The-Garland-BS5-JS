{"version":3,"sources":["adminCourse.js","adminLayout.js","adminMember.js","adminOrder.js","all.js","blog-artical.js","blog-list.js","course-detail.js","course-list.js","login.js","memberAccountInit.js","memberCourse.js","memberLayout.js","memberOrder.js","product.js","signUp.js"],"names":["updateCourseId","deleteCourseId","adminCourseInit","localStorage","setItem","courseName","document","getElementById","courseRoom","courseTeacher","fileUploader","courseBeginDate","courseTime","coursePrice","studLimit","courseSimpleIntro","courseContent","courseGuildline","modalTitle","cancelBT","newCourseBT","updateCourseBT","btnClose","querySelector","imgName","adminCourseArea","renderAdminCourseTemp","renderUpdateCourseFun","getCourseId","studListBody","addEventListener","e","target","files","name","clearNewCourseTable","newCourseObj","id","value","coursePlace","courseMaximumStud","courseState","courseImage","changeNewLineTag","axios","post","then","resp","console","log","data","alert","click","location","href","Promise","all","get","response","courseArray","orderArray","renderAdminCourse","forEach","o","filter","a","courseId","length","innerHTML","dataset","patch","res","updatCourse","theCourse","textContent","classList","remove","add","changeNewLineTagInHTML","str","split","join","getDeleteId","deleteCourse","renderStudentList","studListCourseName","r","result","userId","push","renderStudList","ary","renderStudListTemp","mail","phone","deleteStudInCourse","adminLayoutInit","pageCode","getItem","memberPage","coursePage","orderPage","ConsultationPage","logout","removeItem","adminMemberInit","renderMemberList","key","aryData","memberListRenderArea","memberListTemp","permission","n","renderMemberModal","oid","mName","mAccount","mPwd","mMail","mPhone","mAddress","deleteMemberBT","obj","account","password","address","memberId","didappearArea","appearArea","deleteMember","searchMember","keyword","adminOrderInit","orders","users","renderAdminOrderList","ordersAry","usersAry","adminOrderListArea","temp","userData","u","usersId","serialNum","orderDate","substring","searchOrder","orderData2","orderData1","orderName","orderId","orderPhone","filterName","filterId","filterPhone","ordersInDate","filterDate","user","d1","d2","Date","toLocaleDateString","newAry","getTime","orderDetail","adminOrderSerialNum","adminOrderUserName","adminOrderPhone","adminOrderOrderDate","adminOrderShipDate","adminOrderReceiveName","adminOrderAddress","adminOrderState","order","addDays","state","renderAdminOrderProductArea","prototype","days","setDate","getDate","adminOrderProductArea","flowers","p","price","totalCost","changeOrderState","parseInt","deleteOrder","indexInit","swiper","Swiper","speed","loop","autoplay","delay","disableOnInteraction","effect","fadeEffect","crossFade","slidesPerView","spaceBetween","centeredSlides","pagination","el","clickable","navigation","nextEl","prevEl","breakpoints","layoutInit","navMenu","navBurger","navClose","navCover","toggle","navLoginBT","navMembereMenuBT","adminPanel","member","JSON","parse","blogArticalInit","url","articalNum","indexOf","blogArticalContent","blogArticalRender","title","author","releaseDate","tags","contentOne","contentImg","contentTwo","articalFrom","blogListtemp","blogListInit","blogListRender","blogContent","image","courseDetailInit","options","Option","courseDetailRender","courseStud","studName","studPhoneNum","studMail","courseTableBtn","titles","querySelectorAll","setAttribute","courseLimit","alreadyHaveCourse","courseListInit","screenWidth","window","screen","availWidth","courseList","over992","courseListTemp","courseListRender","loginInit","loginBT","validAccount","wrongInput","stringify","memberAccountInit","loginMember","memberAcc","memberPwd","checkMemberPwd","memberName","memberMail","memberPhone","memberAddress","updateMemberDetailBT","updateMemberValid","chenkMemberMail","checkMemberPassword","sameMemberMailErrMSG","checkMemberPwdErrMSG","memberCourseInit","memberCourseListArea","memberCourseName","memberCourseGuildLine","memberCourseBeginDate","memberCourseTime","memberCoursePlace","memberCourseTeacher","memberCourseAry","courseAry","renderMemberCourse","renderMemberCourseTemp","mc","memberLayoutInit","memberPageCode","toMemberAccount","toMemberAccountSm","toMemberCourse","toMemberCourseSm","toMemberOrder","toMemberOrderSm","toMeberConsulation","toMeberConsulationSm","freeMode","memberOrderInit","products","renderOrder","orderTemp","accordionArea","productTemp","productsArea","vases","productInit","renderProductFlowerList","renderProductVaseList","dataAry","productFlowerRenderArea","tempStr","type","chedkedItem","itemImage","checkedVase","thisVaseImage","allVaseImage","allVaseInput","checked","productVaseRenderArea","sendProductOrder","orderPhoneNum","orderMail","orderAddress","vaseName","serialNumTemp","productTotalCost","getFullYear","getMonth","createSerialNum","i","Math","floor","random","signUpInit","singUpAccount","singUpPwd","checkPwd","singUpName","signUpMail","signUpPhone","signUpAddress","SignUpBT","checkPwdErrMSG","sameAccountErrMSG","sameMailErrMSG","validSignUp","newMember","checkPassword","checkAccount","chenkMail"],"mappings":"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","file":"all.js","sourcesContent":["let updateCourseId;                                                     // 儲存點擊編輯後產生的課程id\r\nlet deleteCourseId;                                                     // 儲存點擊刪除後產生的課程id\r\nfunction adminCourseInit(){\r\n    // 控制左側選單 選中時的效果\r\n    localStorage.setItem(\"pageCode\",2);\r\n    \r\n    // 所有表單欄位\r\n    const courseName = document.getElementById('courseName');\r\n    const courseRoom = document.getElementById('courseRoom');\r\n    const courseTeacher = document.getElementById('courseTeacher');\r\n    const fileUploader = document.getElementById('file-uploader');\r\n    const courseBeginDate = document.getElementById('courseBeginDate');\r\n    const courseTime = document.getElementById('courseTime');\r\n    const coursePrice = document.getElementById('coursePrice');\r\n    const studLimit = document.getElementById('studLimit');\r\n    const courseSimpleIntro = document.getElementById('courseSimpleIntro');\r\n    const courseContent = document.getElementById('courseContent');\r\n    const courseGuildline = document.getElementById('courseGuildline');\r\n    \r\n    const modalTitle = document.getElementById('modalTitle');               // model標題\r\n    const cancelBT = document.getElementById('cancelBT');                   // 取消按鈕\r\n    const newCourseBT = document.getElementById('newCourseBT');             // 新增課程按鈕\r\n    const updateCourseBT = document.getElementById('updateCourseBT');       // 編輯課程按鈕\r\n    const btnClose = document.querySelector('.btn-close');                  // 叉叉按鈕\r\n    let imgName = '';                                                       // 儲存上傳的圖片的變數\r\n    const adminCourseArea = document.getElementById('adminCourseArea');     // 要渲染所有課程的區塊\r\n    let renderAdminCourseTemp = '';                                         // 儲存渲染的HTML的變數\r\n    let renderUpdateCourseFun;                                              // 儲存axios裡面方法的變數\r\n    let getCourseId;                                                        // 儲存axios裡面方法的變數\r\n    \r\n   \r\n    \r\n    const studListBody = document.getElementById('studListBody');           // 要渲染學生名單的區塊\r\n    \r\n\r\n\r\n    // 獲取上傳的圖片資訊\r\n    fileUploader.addEventListener('change',e=>{\r\n        imgName = e.target.files[0].name;\r\n    });\r\n\r\n    // 新增課程的關閉按鈕\r\n    cancelBT.addEventListener('click',e=>{\r\n        clearNewCourseTable();\r\n    });\r\n    btnClose.addEventListener('click', e=>{\r\n        clearNewCourseTable();\r\n    });\r\n\r\n    // 新增課程\r\n    newCourseBT.addEventListener('click',e=>{\r\n        let newCourseObj = {};\r\n        newCourseObj.id=null;\r\n        newCourseObj.courseName = courseName.value;\r\n        newCourseObj.courseBeginDate = courseBeginDate.value;\r\n        newCourseObj.courseTime = courseTime.value;\r\n        newCourseObj.coursePlace = courseRoom.value;\r\n        newCourseObj.courseTeacher = courseTeacher.value;\r\n        newCourseObj.courseMaximumStud = studLimit.value;\r\n        newCourseObj.courseState = \"未開課\";\r\n        newCourseObj.courseImage = imgName;\r\n        newCourseObj.courseSimpleIntro = changeNewLineTag(courseSimpleIntro.value);\r\n        newCourseObj.courseContent = changeNewLineTag(courseContent.value);\r\n        newCourseObj.courseGuildline = changeNewLineTag(courseGuildline.value);\r\n        newCourseObj.coursePrice = coursePrice.value;\r\n        axios.post('http://localhost:3000/courses',newCourseObj).then(function(resp){\r\n            console.log(\"123\"+resp.data)\r\n        });\r\n        alert('新建成功!');\r\n        btnClose.click();\r\n        location.href = 'admin-course.html';\r\n    })\r\n\r\n    // 清空新增課程的資料表\r\n    function clearNewCourseTable(){\r\n        courseName.value=\"\";\r\n        courseRoom.value=\"0\";\r\n        courseTeacher.value=\"0\";\r\n        fileUploader.value=\"\";\r\n        courseBeginDate.value=\"\";\r\n        courseTime.value=\"\";\r\n        coursePrice.value=\"\";\r\n        studLimit.value=\"\";\r\n        courseSimpleIntro.value=\"\";\r\n        courseContent.value=\"\";\r\n        courseGuildline.value=\"\";\r\n    }\r\n\r\n    // 渲染畫面\r\n    Promise.all([axios.get('http://localhost:3000/courses'),axios.get('http://localhost:3000/courseOrders')])\r\n    .then( (response) => {\r\n        const courseArray = response[0].data;\r\n        const orderArray = response[1].data;\r\n        renderAdminCourse(courseArray, orderArray);\r\n        \r\n    })\r\n\r\n    // 渲染admin課程管理的方法\r\n    function renderAdminCourse(courseArray, orderArray){\r\n\r\n        courseArray.forEach(o=>{\r\n            renderAdminCourseTemp+=\r\n            `<div class=\"col-4 mb-5\">\r\n                <div class=\"border border-dark border-2 rounded px-3 py-5\">\r\n                    <h3 class=\"h5 fw-bolder text-dark mb-8\">${o.courseName}</h3>\r\n                    <ul class=\"list-unstyled\">\r\n                        <li class=\"mb-3\">開課日期： ${o.courseBeginDate}</li>\r\n                        <li class=\"mb-3\">開課狀態： ${o.courseState}</li>\r\n                        <li class=\"mb-3\">報名人數：${orderArray.filter(a=>a.courseId==o.id).length} / ${o.courseMaximumStud} 位</li>\r\n                        <li class=\"mb-3\">講師： ${o.courseTeacher}</li>\r\n                        <li>教室： ${o.coursePlace}</li>\r\n                    </ul>\r\n                    <div class=\"d-flex justify-content-between\">\r\n                        <div class=\"btn-small\">\r\n                            <a class=\"w-100 d-none d-lg-flex justify-content-lg-center\" href=\"#\" data-bs-toggle=\"modal\" data-bs-target=\"#courseTable\" onclick=\"updatCourse(${o.id})\">編輯課程</a>\r\n                        </div>\r\n                        <div class=\"btn-small\">\r\n                            <a class=\"w-100 d-none d-lg-flex justify-content-lg-center\" href=\"#\" data-bs-toggle=\"modal\" data-bs-target=\"#staticBackdrop\" onclick=\"getDeleteId(${o.id})\">刪除課程</a>\r\n                        </div>\r\n                        <div class=\"btn-small\">\r\n                            <a class=\"w-100 d-none d-lg-flex justify-content-lg-center\" href=\"#\" data-bs-toggle=\"modal\" data-bs-target=\"#studList\" onclick=\"renderStudentList(${o.id})\">學員名單</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>`;\r\n        })\r\n        adminCourseArea.innerHTML = renderAdminCourseTemp;\r\n    }\r\n\r\n\r\n    // 更新課程資訊\r\n    updateCourseBT.addEventListener('click',e=>{\r\n        let data = {};\r\n        data.courseName = courseName.value;\r\n        data.courseBeginDate = courseBeginDate.value;\r\n        data.courseTime = courseTime.value;\r\n        data.coursePlace = courseRoom.value;\r\n        data.courseTeacher = courseTeacher.value;\r\n        data.courseMaximumStud = studLimit.value;\r\n        data.courseImage = imgName==''?fileUploader.dataset.imgName:imgName;\r\n        data.courseSimpleIntro = changeNewLineTag(courseSimpleIntro.value);\r\n        data.courseContent = changeNewLineTag(courseContent.value);\r\n        data.courseGuildline = changeNewLineTag(courseGuildline.value);\r\n        data.coursePrice = coursePrice.value;\r\n\r\n        axios.patch(\"http://localhost:3000/courses/\"+updateCourseId, data).then(res=>{ \r\n            console.log(res, 'patch')\r\n            location.href = 'admin-course.html';\r\n        });\r\n       \r\n    })\r\n}\r\n\r\n// 更新課程資訊\r\nfunction updatCourse(id){\r\n  console.log(id)\r\n  updateCourseId = id;\r\n  const fileUploader = document.getElementById('file-uploader');\r\n  axios.get('http://localhost:3000/courses/'+id).then(resp=>{\r\n    let theCourse = resp.data;\r\n    modalTitle.textContent = \"編輯課程\";\r\n    updateCourseBT.classList.remove('d-none');\r\n    newCourseBT.classList.add('d-none');\r\n\r\n    // 將db的資料渲染給表單\r\n    courseName.value = theCourse.courseName;\r\n    courseBeginDate.value = theCourse.courseBeginDate;\r\n    courseTime.value = theCourse.courseTime;\r\n    courseRoom.value = theCourse.coursePlace;\r\n    courseTeacher.value = theCourse.courseTeacher;\r\n    studLimit.value = theCourse.courseMaximumStud;\r\n    // fileUploader.value = theCourse.courseImage;\r\n    fileUploader.dataset.imgName = theCourse.courseImage;\r\n    courseSimpleIntro.value = changeNewLineTagInHTML(theCourse.courseSimpleIntro);\r\n    courseContent.value = changeNewLineTagInHTML(theCourse.courseContent);\r\n    courseGuildline.value = changeNewLineTagInHTML(theCourse.courseGuildline);\r\n    coursePrice.value = theCourse.coursePrice;\r\n    console.log(fileUploader.dataset.imgName);\r\n  })\r\n  \r\n}\r\n\r\n// 將換行符號 \\n 改成html標籤\r\nfunction changeNewLineTag(str){\r\n  return str.split('\\n').join('<br />');\r\n}\r\n// 將換行符號 html標籤 改成 \\n \r\nfunction changeNewLineTagInHTML(str){\r\n  return str.split('<br />').join('\\n');\r\n}\r\n\r\n// 將id儲存在外部\r\nfunction getDeleteId(id){\r\n  deleteCourseId = id;\r\n}\r\n\r\n// 刪除課程\r\nfunction deleteCourse() { \r\n  axios.delete(\"http://localhost:3000/courses/\"+deleteCourseId).then(res=>{ \r\n      console.log(res, 'patch')\r\n      location.href = 'admin-course.html';\r\n  });\r\n}\r\n\r\n// 渲染學生名單\r\nfunction renderStudentList(id){\r\n  const studListCourseName = document.getElementById('studList-courseName'); // 學生名單的課程標題\r\n  axios.get('http://localhost:3000/courses/'+id).then(resp=>{\r\n    studListCourseName.textContent = resp.data.courseName;\r\n  });\r\n\r\n  Promise.all([axios.get('http://localhost:3000/courseOrders?courseId='+id),axios.get('http://localhost:3000/users')]).then(r=>{\r\n    let result  = []\r\n    r[0].data.forEach(e=>{\r\n      r[1].data.forEach(o=>{\r\n        if(e.userId == o.id){\r\n          result.push(o);\r\n        }\r\n      })\r\n    })\r\n    renderStudList(result, id);\r\n  })\r\n}\r\n\r\n// 渲染學生名單的方法\r\nfunction renderStudList(ary, courseId) { \r\n  let renderStudListTemp = '';      // 儲存渲染的HTML的變數\r\n  ary.forEach(o=>{\r\n    renderStudListTemp += `<tr class=\"py-1\">\r\n                            <td><p class=\"mb-0 mt-2\">${o.name}</p></td>\r\n                            <td><p class=\"mb-0 mt-2\">${o.mail}</p></td>\r\n                            <td><p class=\"mb-0 mt-2\">${o.phone}</p></td>\r\n                            <td>\r\n                              <div class=\"btn-small\">\r\n                                  <a class=\"w-100 d-none d-lg-flex justify-content-lg-center\" href=\"#\" onclick=\"deleteStudInCourse(${o.id}, ${courseId})\">刪除</a>\r\n                              </div>\r\n                            </td>\r\n                          </tr>`;\r\n  })\r\n  studListBody.innerHTML = renderStudListTemp;\r\n}\r\n\r\n// 刪除課程中的學生\r\nfunction deleteStudInCourse(id, courseId){\r\n  console.log(id);\r\n  console.log(courseId);\r\n  axios.get('http://localhost:3000/courseOrders').then(resp=>{\r\n    resp.data.forEach(o=>{\r\n      if(o.userId == id && o.courseId == courseId){\r\n          axios.delete(\"http://localhost:3000/courseOrders/\"+o.id).then(res=>{ \r\n          console.log(res, 'patch')\r\n          location.href = 'admin-course.html';\r\n      });\r\n      }\r\n    })\r\n  })\r\n}","function adminLayoutInit(){\r\n    const pageCode = localStorage.getItem('pageCode');\r\n    const memberPage = document.getElementById('memberPage');\r\n    const coursePage = document.getElementById('coursePage');\r\n    const orderPage = document.getElementById('orderPage')\r\n    const ConsultationPage = document.getElementById('ConsultationPage');\r\n    if(pageCode == 0){\r\n      memberPage.classList.remove('onPage');\r\n      coursePage.classList.remove('onPage');\r\n      orderPage.classList.remove('onPage');\r\n    } else if(pageCode == 1){\r\n      memberPage.classList.add('onPage');\r\n      coursePage.classList.remove('onPage');\r\n      orderPage.classList.remove('onPage');\r\n    } else if(pageCode == 2){\r\n      memberPage.classList.remove('onPage');\r\n      coursePage.classList.add('onPage');\r\n      orderPage.classList.remove('onPage');\r\n    } else if(pageCode == 3){\r\n      memberPage.classList.remove('onPage');\r\n      coursePage.classList.remove('onPage');\r\n      orderPage.classList.add('onPage');\r\n    }\r\n\r\n    function logout(){\r\n      location.href = 'index.html';\r\n      localStorage.removeItem('loginMember');\r\n    }\r\n\r\n    \r\n\r\n\r\n\r\n    // const memberNavLoginBT = document.querySelector(\"#member-loginBT\"); // 登入按鈕\r\n    // const memberMenuBT = document.querySelector(\"#member-menuBT\"); // 登入後的會員選單按鈕\r\n    // const memberAdminPanel = document.querySelector('#member-adminPanel'); // 後台管理按鈕\r\n    // const theMember = JSON.parse(localStorage.getItem('loginMember')); // 登入的會員\r\n\r\n    // if(localStorage.getItem('loginMember') != null){\r\n    //   memberNavLoginBT.classList.add('d-none');\r\n    //   memberMenuBT.classList.remove('d-none');\r\n    //   memberMenuBT.textContent = theMember.name;\r\n    //   if(theMember.permission == 'administrator'){\r\n    //     memberAdminPanel.classList.remove('d-none')\r\n    //   }\r\n    // }else {\r\n    //   memberNavLoginBT.classList.remove('d-none');\r\n    //   memberMenuBT.classList.add('d-none');\r\n    // }\r\n\r\n\r\n\r\n\r\n\r\n}","function adminMemberInit(){\r\n    // 控制左側選單 選中時的效果\r\n    localStorage.setItem(\"pageCode\", 1);\r\n\r\n\r\n    // 渲染會員清單\r\n    axios.get('http://localhost:3000/users').then(resp => {\r\n        renderMemberList(resp.data);\r\n\r\n    })\r\n\r\n    document.getElementById('searchMember').addEventListener('keypress', e => {\r\n        if (e.key === 'Enter') {\r\n            document.getElementById('searchMemberBT').click();\r\n        }\r\n    \r\n    })\r\n    \r\n}\r\n\r\n// 渲染會員清單的方法\r\nfunction renderMemberList(aryData) {\r\n    \r\n    const memberListRenderArea = document.getElementById('memberListRenderArea');   // 渲染會員清單的區域\r\n    let memberListTemp = '';                                                        // 暫存渲染的HTML\r\n    aryData.forEach(o => {\r\n        if (o.permission == \"administrator\") {\r\n            return;\r\n        } else {\r\n            let n = o.name;\r\n            memberListTemp +=\r\n                `<li class=\"col-2 mb-13\">\r\n                    <a class=\"rounded-circle bg-primary60 d-flex justify-content-center align-items-center memberPic\" \r\n                        data-bs-toggle=\"modal\" data-bs-target=\"#memberModal\" onclick=\"renderMemberModal('${o.id}')\">\r\n                        <h3 class=\"h5 text-white m-0\">${o.name}</h3>\r\n                    </a>\r\n                </li>`;\r\n        }\r\n    });\r\n    memberListRenderArea.innerHTML = memberListTemp;\r\n}\r\n\r\n// 渲染會員modal的方法\r\nfunction renderMemberModal(oid) {\r\n    const mName = document.getElementById('memberModalLabel');\r\n    const mAccount = document.getElementById('mAccount');\r\n    const mPwd = document.getElementById('mPwd');\r\n    const mMail = document.getElementById('mMail');\r\n    const mPhone = document.getElementById('mPhone');\r\n    const mAddress = document.getElementById('mAddress');\r\n    const deleteMemberBT = document.getElementById('deleteMemberBT');\r\n\r\n    axios.get('http://localhost:3000/users/' + oid).then(resp => {\r\n        let obj = resp.data;\r\n        mName.textContent = obj.name;\r\n        mAccount.textContent = obj.account;\r\n        mPwd.textContent = obj.password;\r\n        mMail.textContent = obj.mail;\r\n        mPhone.textContent = obj.phone;\r\n        mAddress.textContent = obj.address;\r\n        deleteMemberBT.dataset.memberId = obj.id;\r\n    })\r\n\r\n}\r\n\r\n// 讓原本的對話框消失\r\nfunction didappearArea() {\r\n    console.log('didappearArea')\r\n    document.querySelector('.adminMemberModal').classList.add('op0');\r\n}\r\n\r\n// 回復消失的對話框\r\nfunction appearArea() {\r\n    document.querySelector('.adminMemberModal').classList.remove('op0')\r\n}\r\n\r\n// 刪除會員的方法\r\nfunction deleteMember() {\r\n    const deleteMemberBT = document.getElementById('deleteMemberBT');\r\n    let memberId = deleteMemberBT.dataset.memberId;\r\n    axios.delete('http://localhost:3000/users/' + memberId).then(resp => {\r\n        location.href = 'admin-member.html';\r\n    })\r\n}\r\n\r\n\r\n\r\n// 關鍵字搜尋並重新渲染畫面\r\nfunction searchMember() {\r\n    const keyword = document.getElementById('searchMember');\r\n    if (keyword.value == '') {\r\n        axios.get('http://localhost:3000/users').then(resp => {\r\n            renderMemberList(resp.data);\r\n        })\r\n    } else {\r\n        axios.get('http://localhost:3000/users?q=' + keyword.value).then(resp => {\r\n            renderMemberList(resp.data);\r\n        })\r\n    }\r\n\r\n}","function adminOrderInit() {\r\n    // 控制左側選單 選中時的效果\r\n    localStorage.setItem(\"pageCode\", 3);\r\n    Promise.all([axios.get('http://localhost:3000/flowerOrders'), axios.get('http://localhost:3000/users')]).then(resp => {\r\n        const orders = resp[0].data;\r\n        const users = resp[1].data;\r\n        renderAdminOrderList(orders, users)\r\n    })\r\n}\r\n\r\n// 渲染訂單清單的方法\r\nfunction renderAdminOrderList(ordersAry, usersAry) {\r\n    const adminOrderListArea = document.getElementById('adminOrderListArea');\r\n    let temp = '';\r\n    ordersAry.forEach(o => {\r\n        let userData = usersAry.filter(u => u.id == o.usersId);\r\n        temp += `\r\n            <tr class=\"align-middle\">\r\n                <td>${userData[0].name}</td>\r\n                <td>${o.serialNum}</td>\r\n                <td>${o.orderDate.substring(0, 10)}</td>\r\n                <td>\r\n                    <div class=\"btn-small adminOrderDetailBtn\">\r\n                        <a class=\"w-100 d-none d-lg-flex justify-content-lg-center\" href=\"#\" data-bs-toggle=\"modal\"\r\n                            data-bs-target=\"#adminOrderTable\" onClick=\"orderDetail(${o.id})\">檢視</a>\r\n                    </div>\r\n                </td>\r\n            </tr>`\r\n    })\r\n    adminOrderListArea.innerHTML = temp;\r\n}\r\n\r\n// 依據輸入的關鍵字做查詢\r\nfunction searchOrder() {\r\n    const orderData2 = document.getElementById('orderData2');\r\n    const orderData1 = document.getElementById('orderData1');\r\n    const orderName = document.getElementById('orderName');\r\n    const orderId = document.getElementById('orderId');\r\n    const orderPhone = document.getElementById('orderPhone');\r\n\r\n\r\n    if (orderData2.value == '' && orderData1.value == '' && orderName.value == '' && orderId.value == '' && orderPhone.value == '') {\r\n        // 如果都沒有輸入就渲染全部\r\n        Promise.all([axios.get('http://localhost:3000/flowerOrders'), axios.get('http://localhost:3000/users')]).then(resp => {\r\n            const orders = resp[0].data;\r\n            const users = resp[1].data;\r\n            renderAdminOrderList(orders, users);;\r\n        })\r\n    } else {\r\n        // 否則在網址列使用方法做查詢\r\n        axios.get('http://localhost:3000/users').then(resp => {\r\n            const users = resp.data;\r\n            axios.get('http://localhost:3000/flowerOrders' + filterName(users) + filterId() + filterPhone()).then(r => {\r\n                const orders = r.data;\r\n                if (orderData1.value != '' || orderData2.value != '') {\r\n                    let ordersInDate = filterDate(orderData1.value, orderData2.value, orders);\r\n                    renderAdminOrderList(ordersInDate, users);\r\n                } else {\r\n                    renderAdminOrderList(orders, users);\r\n                }\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\n// 根據訂單姓名做篩選\r\nfunction filterName(users) {\r\n    const orderName = document.getElementById('orderName').value;\r\n    let user = users.filter(o => o.name == orderName)[0]\r\n    if (orderName == '') {\r\n        return '';\r\n    } else {\r\n        return '?usersId=' + user.id;\r\n    }\r\n}\r\n\r\n// 根據訂單編號做篩選\r\nfunction filterId() {\r\n    const orderId = document.getElementById('orderId').value;\r\n    if (orderId == '') {\r\n        return '';\r\n    } else {\r\n        if (filterName() == '') {\r\n            return '?serialNum=' + orderId;\r\n        } else {\r\n            return '&serialNum=' + orderId;\r\n        }\r\n    }\r\n}\r\n\r\n// 根據訂單電話做篩選\r\nfunction filterPhone() {\r\n    const orderPhone = document.getElementById('orderPhone').value;\r\n    if (orderPhone == '') {\r\n        return '';\r\n    } else {\r\n        if (filterName() == '' && filterId() == '') {\r\n            return '?phone=' + orderPhone;\r\n        } else {\r\n            return '&phone=' + orderPhone;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n// 根據日期範圍做篩選\r\nfunction filterDate(d1, d2, ary) {\r\n    if (d1 == '') {\r\n        d1 = new Date('1990/01/01');\r\n    }\r\n    if (d2 == '') {\r\n        d2 = new Date().toLocaleDateString().split('/').join('-');\r\n    }\r\n\r\n    let newAry = ary.filter(o => {\r\n        return new Date(o.orderDate.substring(0, 10)).getTime() >= new Date(d1).getTime() &&\r\n            new Date(o.orderDate.substring(0, 10)).getTime() <= new Date(d2).getTime();\r\n    })\r\n    return newAry;\r\n}\r\n\r\n// 渲染訂單明細的方法\r\nfunction orderDetail(id) {\r\n    const adminOrderSerialNum = document.getElementById('adminOrderSerialNum');          //訂單編號\r\n    const adminOrderUserName = document.getElementById('adminOrderUserName');            //訂單姓名\r\n    const adminOrderPhone = document.getElementById('adminOrderPhone');                  //連絡電話\r\n    const adminOrderOrderDate = document.getElementById('adminOrderOrderDate');          //訂單日期\r\n    const adminOrderShipDate = document.getElementById('adminOrderShipDate');            //預估出貨日期\r\n    const adminOrderReceiveName = document.getElementById('adminOrderReceiveName');      //收貨人姓名\r\n    const adminOrderAddress = document.getElementById('adminOrderAddress');              //出貨地址\r\n    const adminOrderState = document.getElementById('adminOrderState');                  //訂單狀態\r\n    adminOrderState.dataset.orderId = id;\r\n    Promise.all([axios.get('http://localhost:3000/flowerOrders?id=' + id), axios.get('http://localhost:3000/users')]).then(resp => {\r\n        let order = resp[0].data[0];\r\n        let users = resp[1].data;\r\n        adminOrderSerialNum.textContent = order.serialNum;\r\n        adminOrderUserName.textContent = users.filter(o => o.id == order.usersId)[0].name;\r\n        adminOrderPhone.textContent = order.phone;\r\n        adminOrderOrderDate.textContent = order.orderDate.substring(0, 10);\r\n        let orderDate = new Date(order.orderDate.substring(0, 10));\r\n        adminOrderShipDate.textContent = orderDate.addDays(3);\r\n        adminOrderReceiveName.textContent = order.name;\r\n        adminOrderAddress.textContent = order.address;\r\n        adminOrderState.value = order.state;\r\n        renderAdminOrderProductArea(order);\r\n    })\r\n}\r\n\r\n// 指定日期加上天數的方法\r\nDate.prototype.addDays = function (days) {\r\n    this.setDate(this.getDate() + days);\r\n    return this.toLocaleDateString().split('/').join('-');\r\n}\r\n\r\n// 渲染明細內的產品清單\r\nfunction renderAdminOrderProductArea(ary){\r\n    const adminOrderProductArea = document.getElementById('adminOrderProductArea');      //訂購內容\r\n    let temp = '';\r\n    axios.get('http://localhost:3000/products').then(resp=>{\r\n        ary.flowers.forEach(o=>{\r\n            temp += `\r\n            <li class=\"d-flex justify-content-between mb-1\">\r\n                <p class=\"m-0\">${resp.data.filter(p=>p.id == o)[0].name}</p>\r\n                <p class=\"m-0\">${resp.data.filter(p=>p.id == o)[0].price} $</p>\r\n            </li>\r\n            `\r\n        })\r\n        temp += `\r\n            <li class=\"d-flex justify-content-between mb-1\">\r\n                <p class=\"m-0\">運費</p>\r\n                <p class=\"m-0\">80 $</p>\r\n            </li>\r\n            <hr class=\"my-2\">\r\n            <li class=\"d-flex justify-content-between\">\r\n                <p class=\"m-0\">小結</p>\r\n                <p class=\"m-0\">${ary.totalCost + 80} $</p>\r\n            </li>\r\n            `\r\n\r\n        adminOrderProductArea.innerHTML = temp;\r\n    })\r\n}\r\n\r\n// 修改訂單狀態的方法\r\nfunction changeOrderState(){\r\n    const adminOrderState = document.getElementById('adminOrderState');                  //訂單狀態\r\n    axios.patch('http://localhost:3000/flowerOrders/'+adminOrderState.dataset.orderId,{\r\n        \"state\": parseInt(adminOrderState.value)\r\n    }).then(resp=>{\r\n        console.log('狀態更改成功')\r\n    })\r\n}\r\n\r\n// 刪除訂單\r\nfunction deleteOrder(){\r\n    const adminOrderState = document.getElementById('adminOrderState');                  //訂單狀態(單純要取得訂單id)\r\n    console.log(adminOrderState.dataset.orderId)\r\n    axios.delete('http://localhost:3000/flowerOrders/'+adminOrderState.dataset.orderId).then(resp=>{\r\n        alert('訂單已取消')\r\n        location.href = 'admin-order.html'\r\n    })\r\n}\r\n\r\n","\nfunction indexInit(){\n  var swiper = new Swiper(\".bannerSwiper\", {\n    speed:2000,\n    loop:true,\n    autoplay: {\n      delay: 2500,\n      disableOnInteraction: false,\n    },\n    effect : 'fade',\n    fadeEffect: {\n      crossFade: true,\n    }\n  });\n  \n  var swiper = new Swiper(\".worksSwiper\", {\n    slidesPerView: 1,\n    spaceBetween: 30,\n    speed:1000,\n    loop: true, \n    centeredSlides: true,\n    autoplay: {\n      delay: 2500,\n      disableOnInteraction: false,\n    },\n    pagination: {\n      el: \".swiper-pagination\",\n      clickable: true,\n    },\n    navigation: {\n      nextEl: \".swiper-button-next\",\n      prevEl: \".swiper-button-prev\",\n    },\n    breakpoints:{\n      576:{\n        slidesPerView: 2,\n      },\n      992:{\n        slidesPerView: 3,\n      },\n      1440:{\n        slidesPerView: 4,\n      }\n    }\n  });\n}\n\nfunction layoutInit(){\n  const navMenu =  document.querySelector('#nav-menu');\n  const navBurger = document.querySelector('#nav-burger');\n  const navClose = document.querySelector('#nav-burger-close');\n  const navCover = document.querySelector('#nav-cover');\n  \n  navMenu.addEventListener('click',function(){\n    navBurger.classList.toggle('d-none');\n    navClose.classList.toggle('d-none');\n    navCover.classList.toggle('h-100');\n    navCover.classList.toggle('op20');\n  });\n  \n  \n  const navLoginBT = document.querySelector(\".navLoginBT\"); // 登入按鈕\n  const navMembereMenuBT = document.querySelector(\".navMemberMenuBT\"); // 登入後的會員選單按鈕\n  const adminPanel = document.querySelector('#adminPanel'); // 後台管理按鈕\n  const member = JSON.parse(localStorage.getItem('loginMember')); // 登入的會員\n  \n  if(localStorage.getItem('loginMember') != null){\n    navLoginBT.classList.add('d-none');\n    navMembereMenuBT.classList.remove('d-none');\n    navMembereMenuBT.textContent = member.name;\n    if(member.permission == 'administrator'){\n      adminPanel.classList.remove('d-none')\n    }\n  }else {\n    navLoginBT.classList.remove('d-none');\n    navMembereMenuBT.classList.add('d-none');\n  }\n}\n\n","\r\nfunction blogArticalInit(){\r\n    let url = location.href;//取得網址\r\n    let articalNum = parseInt(url.substring(url.indexOf('=')+1,url.length));//取得網址參數並轉成數字\r\n    const blogArticalContent = document.querySelector('.blogArticalContent');//取得html要渲染的div\r\n    \r\n    axios.get('http://localhost:3000/blogArticles').then(function(response){\r\n            // console.log(response.data);\r\n            blogArticalRender(response.data)\r\n    });\r\n    \r\n    function blogArticalRender(aryData){\r\n        blogArticalContent.innerHTML=\r\n        `<div class=\"col-lg-8\">\r\n            <h3 class=\"h4 fw-bolder mb-2 mb-lg-4 text-dark lh-150 ls-2helf\">${aryData[articalNum-1].title}</h3>\r\n            <p class=\"text-dark h7 fsz-lg-16 mb-6 mb-lg-8 ms-1\">By ${aryData[articalNum-1].author} | ${aryData[articalNum-1].releaseDate[0]} | ${aryData[articalNum-1].tags.join('\\ ')}</p>\r\n            <p class=\"h5 text-dark lh-150 ls-2helf mb-5 mb-lg-8\">${aryData[articalNum-1].contentOne}</p>\r\n            <img class=\"w-100 radious20 mb-5 mb-lg-8\" src=\"assets/images/${aryData[articalNum-1].contentImg}\" alt=\"flower\">\r\n            <p class=\"h5 text-dark lh-150 ls-2helf mb-5 mb-lg-8\">${aryData[articalNum-1].contentTwo}</p>\r\n            <a class=\"h5 text-dark lh-150 ls-2helf articalSource\" href=\"https://esence.travel/essence-experience/flower-art-faq/\">${aryData[articalNum-1].articalFrom}</a>\r\n        </div>`;//渲染\r\n    }\r\n}","let blogListtemp = '';//迴圈暫存字串變數\r\nfunction blogListInit(){\r\n    axios.get('http://localhost:3000/blogArticles').then(function(response){\r\n        // console.log(response.data);\r\n        blogListRender(response.data)\r\n    });\r\n    \r\n    function blogListRender(aryData){\r\n        const blogContent = document.querySelector('.blogContent'); // 要渲染的div\r\n        aryData.forEach(o=>{\r\n            blogListtemp += `<div class=\"col-md-6 col-lg-4 mb-11 mb-lg-20 blog-artical radious8\">\r\n                        <a href=\"blog-artical.html?articalNum=${o.articalNum}\">\r\n                            <div class=\"position-relative p-5 mb-5 mb-md-10\">\r\n                                <div class=\"img-line-x bg-danger\"></div>\r\n                                <img class=\"w-100 radious20 shadow\" style=\"height: 288px;\" src=\"assets/images/${o.image}\" alt=\"${o.title}\">\r\n                                <div class=\"img-line-y\"></div>\r\n                                <p class=\"m-0 artical-date\">${o.releaseDate[1]}</p>\r\n                            </div>\r\n                            <div class=\"w-100 d-flex flex-column justify-content-between py-1 px-6\" style=\"height: 90px;\">\r\n                                <h3 class=\"h5 text-dark\">${o.title}</h3>\r\n                                <div class=\"d-flex justify-content-end\">\r\n                                    <a href=\"blog-artical.html?articalNum=${o.articalNum}\">READ MORE</a>\r\n                                </div>\r\n                            </div>\r\n                        </a>\r\n                    </div>`;\r\n                    \r\n        });\r\n        blogContent.innerHTML = blogListtemp;\r\n    }\r\n}\r\n\r\n","function courseDetailInit() {\r\n    let url = location.href;\r\n    let articalNum = parseInt(url.substring(url.indexOf('=') + 1, url.length));//取得網址參數並轉成數字\r\n\r\n    axios.get('http://localhost:3000/courses').then(function (response) {\r\n\r\n        // 渲染表單選項\r\n        axios.get('http://localhost:3000/courses').then(resp => {\r\n            resp.data.forEach(o => {\r\n                courseId.options.add(new Option(o.courseName, o.id - 1));\r\n            })\r\n            courseDetailRender(response.data);\r\n        })\r\n    });\r\n\r\n    axios.get(`http://localhost:3000/courseOrders?courseId=${articalNum + 1}`).then(function (response) {\r\n\r\n        const member = JSON.parse(localStorage.getItem('loginMember'));\r\n        const courseStud = document.querySelector('.courseStud');\r\n        courseStud.textContent = response.data.length;\r\n\r\n    });\r\n\r\n\r\n    const courseId = document.querySelector('#courseId');\r\n    const studName = document.querySelector('#studName');\r\n    const studPhoneNum = document.querySelector('#studPhoneNum');\r\n    const studMail = document.querySelector('#studMail');\r\n    const courseTableBtn = document.querySelector('#courseTableBtn');\r\n    const member = JSON.parse(localStorage.getItem('loginMember'));\r\n\r\n\r\n\r\n    if (localStorage.getItem('loginMember') != null) {\r\n        studName.value = member.name;\r\n        studPhoneNum.value = member.phone;\r\n        studMail.value = member.mail;\r\n    }\r\n\r\n    // 渲染頁面的方法\r\n    function courseDetailRender(aryData) {\r\n        courseId.value = articalNum;\r\n        const titles = document.querySelectorAll('.title-js');\r\n        titles.forEach(o => o.innerHTML = aryData[articalNum].courseName);\r\n        const courseImage = document.querySelector('.courseList-img');\r\n        courseImage.setAttribute('style', `background-image: url('assets/images/${aryData[articalNum].courseImage}');`);\r\n        const courseBeginDate = document.querySelector('.courseBeginDate');\r\n        courseBeginDate.innerHTML = `開課日期： ${aryData[articalNum].courseBeginDate}`;\r\n        const coursePrice = document.querySelector('.coursePrice');\r\n        coursePrice.innerHTML = `NT$ ${aryData[articalNum].coursePrice}`;\r\n        const courseLimit = document.querySelector('.courseLimit');\r\n        courseLimit.textContent = aryData[articalNum].courseMaximumStud;\r\n        const courseContent = document.querySelector('.courseContent');\r\n        courseContent.innerHTML = aryData[articalNum].courseContent;\r\n    }\r\n\r\n    // 送出課程訂單\r\n    courseTableBtn.addEventListener('click', function () {\r\n        // 先判定是否有欄位未填\r\n        if (courseId.value == '' || studName.value == '' || studPhoneNum.value == '' || studMail.value == '') {\r\n            alert('表單輸入不完全');\r\n        } else {\r\n            // 判斷是否有登入\r\n            if (member == null) {\r\n                alert('請先登入喔!');\r\n                location.href = 'login.html';\r\n            } else {\r\n                let obj = {};\r\n                obj.id = null;\r\n                obj.userId = member.id;\r\n                obj.courseId = parseInt(courseId.value) + 1;\r\n                // 取得所有課程訂單\r\n                axios.get('http://localhost:3000/courseOrders?userId=' + member.id).then(resp => {\r\n\r\n                    // 判斷該位學員是否已經報名過了\r\n                    let alreadyHaveCourse = false;\r\n                    resp.data.forEach(o => {\r\n                        if (o.courseId == (parseInt(courseId.value) + 1)) {\r\n                            alreadyHaveCourse = true;\r\n                        }\r\n                    })\r\n                    // 如果已經報名過了\r\n                    if (alreadyHaveCourse) {\r\n                        alert('課程已經報名過了喔~不要重複報名!');\r\n                        courseId.value = '';\r\n                        studName.value = '';\r\n                        studPhoneNum.value = '';\r\n                        studMail.value = '';\r\n                    } else {\r\n                        // 送出表單\r\n                        axios.post('http://localhost:3000/courseOrders', obj).then(function (resp) {\r\n                            console.log(\"123\" + resp.data);\r\n                        });\r\n                        alert('資料送出成功');\r\n                    }\r\n                    location.href = 'course-list.html';\r\n                });\r\n\r\n            }\r\n\r\n        }\r\n\r\n    })\r\n\r\n\r\n\r\n\r\n\r\n\r\n}","function courseListInit(){\r\n    var screenWidth = window.screen.availWidth;// 獲取螢幕寬度\r\n    var courseList = document.querySelector('.course-list');\r\n    var over992 = screenWidth >= 992;\r\n    var courseListTemp = '';\r\n\r\n    axios.get('http://localhost:3000/courses').then(function (response) {\r\n\r\n        courseListRender(response.data);\r\n    });\r\n\r\n\r\n\r\n    function courseListRender(aryData) {\r\n\r\n        aryData.forEach(o => {\r\n            courseListTemp += `<div class=\"row ${o.id % 2 == 0 ? \"flex-row\" : \"flex-row-reverse\"} justify-content-center \">\r\n                            <div class=\"col-11 col-lg-5 mb-8 mb-lg-10 mb-xl-20\">\r\n                                <div class=\"courseList-img ${o.id % 2 == 0 ? \"imgOutline-odd\" : \"imgOutline-even\"}  w-100 radious8 shadow\" style=\"background-image: url('assets/images/${o.courseImage}');\"></div>\r\n                            </div>\r\n                            <div class=\"col-11 col-lg-5 mb-10\">\r\n                                <div class=\"px-1 d-flex flex-column ${over992 ? (o.id % 2 != 0 ? 'align-items-end text-end' : '') : ''}\">\r\n                                    <h3 class=\"text-dark fw-bold mb-4 mb-xl-10 ls-2helf\">${o.courseName}</h3>\r\n                                    <p class=\"text-dark h5 mb-3 mb-xl-6\">開課日期：${o.courseBeginDate}</p>\r\n                                    <p class=\"text-dark lh-2 mb-5 mb-xl-7\">${o.courseSimpleIntro}</p>\r\n                                    <div class=\"btn-big \">\r\n                                        <a class=\"w-100\"  href=\"course-detail.html?id=${o.id-1}\">MORE </a>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>`;\r\n        });\r\n        courseList.innerHTML = courseListTemp;\r\n    }\r\n}","function loginInit(){\r\n    const account = document.getElementById(\"account\");\r\n    const password = document.getElementById(\"password\");\r\n    const loginBT = document.getElementById(\"loginBT\");\r\n\r\n\r\n    axios.get('http://localhost:3000/users').then(function (response) {\r\n\r\n        console.log(response.data);\r\n        validAccount(response.data);\r\n    });\r\n\r\n    function validAccount(aryData) {\r\n        loginBT.addEventListener(\"click\", function () {\r\n            console.log(account.value)\r\n            console.log(password.value)\r\n            let wrongInput = true;\r\n            aryData.forEach(o=>{\r\n                if(account.value == o.account){\r\n                    if(password.value == o.password){\r\n                        wrongInput = false;\r\n                        localStorage.setItem('loginMember',JSON.stringify(o));\r\n                    }\r\n                }\r\n            });\r\n            if(wrongInput){\r\n                alert(\"您輸入的帳號或密碼有誤!\");\r\n                account.value = \"\";\r\n                password.value = \"\";\r\n            }else{\r\n                const member = JSON.parse(localStorage.getItem('loginMember'));\r\n                alert(\"歡迎 \"+member.name+\" 登入!\");\r\n                location.href = \"index.html\";\r\n\r\n            }\r\n            \r\n        })\r\n    }\r\n}","function memberAccountInit(){\r\n    // 控制左側選單 選中時的效果\r\n    localStorage.setItem(\"memberPageCode\",1);\r\n\r\n    const loginMember = JSON.parse(localStorage.getItem('loginMember')); // 取得登入的會員資訊\r\n\r\n    // 會員資料表單欄位\r\n    const memberAcc = document.getElementById('memberAcc');\r\n    const memberPwd = document.getElementById('memberPwd');\r\n    const checkMemberPwd = document.getElementById('checkMemberPwd');\r\n    const memberName = document.getElementById('memberName');\r\n    const memberMail = document.getElementById('memberMail');\r\n    const memberPhone = document.getElementById('memberPhone');\r\n    const memberAddress = document.getElementById('memberAddress');\r\n    const updateMemberDetailBT = document.getElementById('updateMemberDetailBT');   // 更新按鈕\r\n\r\n    // 渲染表單\r\n    memberAcc.value = loginMember.account;\r\n    memberPwd.value = loginMember.password;\r\n    checkMemberPwd.value = loginMember.password;\r\n    memberName.value = loginMember.name;\r\n    memberMail.value = loginMember.mail;\r\n    memberPhone.value = loginMember.phone;\r\n    memberAddress.value = loginMember.address;\r\n\r\n    \r\n    updateMemberDetailBT.addEventListener('click', function(){\r\n        if(updateMemberValid()){\r\n            let data = {}\r\n            data.password = memberPwd.value;\r\n            data.name = memberName.value;\r\n            data.mail = memberMail.value;\r\n            data.phone = memberPhone.value;\r\n            data.address = memberAddress.value;\r\n            axios.patch('http://localhost:3000/users/'+loginMember.id, data).then(resp=>{\r\n                axios.get('http://localhost:3000/users/'+loginMember.id).then(r=>{\r\n                    localStorage.setItem('loginMember',JSON.stringify(r.data));\r\n                    location.href = 'memberAccount.html';\r\n                })\r\n                \r\n            })\r\n        }\r\n    })\r\n\r\n    function updateMemberValid(){\r\n        if(memberAcc.value == '' || memberPwd.value == '' || checkMemberPwd.value == '' || memberName.value == '' || memberMail.value == '' || memberPhone.value == '' || memberAddress.value == ''){\r\n            alert('表單輸入不完整! 請在檢查是否有未填欄位!');\r\n            location.href = 'memberAccount.html#';\r\n            return false;\r\n        } else if(chenkMemberMail()){\r\n            alert('信箱已註冊!');\r\n            location.href = 'memberAccount.html#memberMail';\r\n            return false;\r\n        } else if(checkMemberPassword()){\r\n            alert('確認密碼與第一次輸入的密碼不相符!');\r\n            location.href = 'memberAccount.html#memberPwd';\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n}\r\n\r\n// 檢查更新信箱\r\nfunction chenkMemberMail(){\r\n    const loginMember = JSON.parse(localStorage.getItem('loginMember'));    // 取得登入的會員資料\r\n    const sameMemberMailErrMSG = document.getElementById('sameMemberMailErrMSG'); // 錯誤訊息區塊\r\n\r\n    sameMemberMailErrMSG.textContent = '';\r\n    if(loginMember.mail != memberMail.value){\r\n        axios.get('http://localhost:3000/users').then(resp=>{\r\n            resp.data.forEach(o=>{\r\n                if(memberMail.value == o.mail){\r\n                    sameMemberMailErrMSG.textContent = '信箱已註冊! 請使用其他信箱!';\r\n                    return true;\r\n                }else {\r\n                    return false;\r\n                }\r\n            })\r\n        })\r\n    }\r\n}\r\nfunction checkMemberPassword(){\r\n    const checkMemberPwdErrMSG = document.getElementById('checkMemberPwdErrMSG');\r\n    checkMemberPwdErrMSG.textContent = '';\r\n    if(checkMemberPwd.value !== memberPwd.value){\r\n        checkMemberPwdErrMSG.textContent = '請輸入與第一次相同的密碼!';\r\n        return true;\r\n    }else {\r\n        return false;\r\n    }\r\n}\r\n\r\n\r\n","function memberCourseInit(){\r\n    // 控制左側選單 選中時的效果\r\n    localStorage.setItem(\"memberPageCode\",2);\r\n\r\n    const memberCourseListArea = document.getElementById('memberCourseListArea');       // 渲染會員課程的區塊\r\n    const memberCourseName = document.getElementById('memberCourseName');\r\n    const memberCourseGuildLine = document.getElementById('memberCourseGuildLine');\r\n    const memberCourseBeginDate = document.getElementById('memberCourseBeginDate');\r\n    const memberCourseTime = document.getElementById('memberCourseTime');\r\n    const memberCoursePlace = document.getElementById('memberCoursePlace');\r\n    const memberCourseTeacher = document.getElementById('memberCourseTeacher');\r\n\r\n    const loginMember = JSON.parse(localStorage.getItem('loginMember'));\r\n\r\n    Promise.all([axios.get('http://localhost:3000/courseOrders?userId='+loginMember.id),\r\n                 axios.get('http://localhost:3000/courses')]).then(resp=>{\r\n                    const memberCourseAry = resp[0].data;\r\n                    const courseAry = resp[1].data;\r\n\r\n                    console.log(memberCourseAry);\r\n                    console.log(courseAry);\r\n                    renderMemberCourse(memberCourseAry, courseAry);\r\n                 })\r\n\r\n}\r\n\r\nfunction renderMemberCourse(memberCourseAry, courseAry){\r\n    let renderMemberCourseTemp = '';\r\n    memberCourseAry.forEach(mc=>{\r\n        renderMemberCourseTemp+=`\r\n        <li class=\"col-lg-6 mb-10\">\r\n            <div class=\"border border-primary80 border-2 py-10 px-6 radious8 memberCourseItemBG\">\r\n                <h3 class=\"h5 fw-bolder text-dark text-center mb-10\" id=\"memberCourseName\">${courseAry.filter(o=>o.id == mc.courseId)[0].courseName}</h3>\r\n                <p class=\"mb-10 text-dark\" id=\"memberCourseGuildLine\">${courseAry.filter(o=>o.id == mc.courseId)[0].courseGuildline}</p>\r\n                <p class=\"mb-3 text-dark\" id=\"memberCourseBeginDate\">開課日期：${courseAry.filter(o=>o.id == mc.courseId)[0].courseBeginDate}</p>\r\n                <p class=\"mb-3 text-dark\" id=\"memberCourseTime\">上課時間：${courseAry.filter(o=>o.id == mc.courseId)[0].courseTime}</p>\r\n                <p class=\"mb-3 text-dark\" id=\"memberCoursePlace\">使用教室：${courseAry.filter(o=>o.id == mc.courseId)[0].coursePlace}</p>\r\n                <p class=\"mb-3 text-dark\" id=\"memberCourseTeacher\">講師：${courseAry.filter(o=>o.id == mc.courseId)[0].courseTeacher}</p>\r\n            </div>\r\n        </li>`;\r\n        \r\n    })\r\n    memberCourseListArea.innerHTML = renderMemberCourseTemp;\r\n}","function memberLayoutInit() { \r\n    let memberPageCode = localStorage.getItem('memberPageCode');    // 取得頁面編號\r\n    // 側邊選單\r\n    const toMemberAccount = document.getElementById('toMemberAccount');\r\n    const toMemberAccountSm = document.getElementById('toMemberAccountSm');\r\n\r\n    const toMemberCourse = document.getElementById('toMemberCourse');\r\n    const toMemberCourseSm = document.getElementById('toMemberCourseSm');\r\n\r\n    const toMemberOrder = document.getElementById('toMemberOrder');\r\n    const toMemberOrderSm = document.getElementById('toMemberOrderSm');\r\n\r\n    const toMeberConsulation = document.getElementById('toMeberConsulation');\r\n    const toMeberConsulationSm = document.getElementById('toMeberConsulationSm');\r\n\r\n    if(memberPageCode == 1){\r\n        toMemberAccount.classList.add('onPage');\r\n        toMemberAccountSm.classList.remove('text-dark');\r\n        toMemberAccountSm.classList.add('text-primary');\r\n\r\n        toMemberCourse.classList.remove('onPage');\r\n        toMemberCourseSm.classList.add('text-dark');\r\n        toMemberCourseSm.classList.remove('text-primary');\r\n\r\n        toMemberOrder.classList.remove('onPage');\r\n        toMemberOrderSm.classList.add('text-dark');\r\n        toMemberOrderSm.classList.remove('text-primary');\r\n\r\n        toMeberConsulation.classList.remove('onPage');\r\n        toMeberConsulationSm.classList.add('text-dark');\r\n        toMeberConsulationSm.classList.remove('text-primary');\r\n\r\n    } else if(memberPageCode==2){\r\n        toMemberAccount.classList.remove('onPage');\r\n        toMemberAccountSm.classList.add('text-dark');\r\n        toMemberAccountSm.classList.remove('text-primary');\r\n\r\n        toMemberCourse.classList.add('onPage');\r\n        toMemberCourseSm.classList.remove('text-dark');\r\n        toMemberCourseSm.classList.add('text-primary');\r\n\r\n        toMemberOrder.classList.remove('onPage');\r\n        toMemberOrderSm.classList.add('text-dark');\r\n        toMemberOrderSm.classList.remove('text-primary');\r\n\r\n        toMeberConsulation.classList.remove('onPage');\r\n        toMeberConsulationSm.classList.add('text-dark');\r\n        toMeberConsulationSm.classList.remove('text-primary');\r\n\r\n    } else if(memberPageCode ==3){\r\n        toMemberAccount.classList.remove('onPage');\r\n        toMemberAccountSm.classList.add('text-dark');\r\n        toMemberAccountSm.classList.remove('text-primary');\r\n\r\n        toMemberCourse.classList.remove('onPage');\r\n        toMemberCourseSm.classList.add('text-dark');\r\n        toMemberCourseSm.classList.remove('text-primary');\r\n\r\n        toMemberOrder.classList.add('onPage');\r\n        toMemberOrderSm.classList.remove('text-dark');\r\n        toMemberOrderSm.classList.add('text-primary');\r\n\r\n        toMeberConsulation.classList.remove('onPage');\r\n        toMeberConsulationSm.classList.add('text-dark');\r\n        toMeberConsulationSm.classList.remove('text-primary');\r\n        \r\n    } else if(memberPageCode==4){\r\n        toMemberAccount.classList.remove('onPage');\r\n        toMemberAccountSm.classList.add('text-dark');\r\n        toMemberAccountSm.classList.remove('text-primary');\r\n\r\n        toMemberCourse.classList.remove('onPage');\r\n        toMemberCourseSm.classList.add('text-dark');\r\n        toMemberCourseSm.classList.remove('text-primary');\r\n\r\n        toMemberOrder.classList.remove('onPage');\r\n        toMemberOrderSm.classList.add('text-dark');\r\n        toMemberOrderSm.classList.remove('text-primary');\r\n\r\n        toMeberConsulation.classList.add('onPage');\r\n        toMeberConsulationSm.classList.remove('text-dark');\r\n        toMeberConsulationSm.classList.add('text-primary');\r\n    }\r\n\r\n\r\n    var swiper = new Swiper(\".memberNavSwiper\", {\r\n        slidesPerView: 5,\r\n        spaceBetween: 10,\r\n        freeMode: true,\r\n        pagination: {\r\n          el: \".swiper-pagination\",\r\n          clickable: true,\r\n        },\r\n        breakpoints:{\r\n            576:{\r\n              slidesPerView: 5,\r\n            },\r\n            992:{\r\n              slidesPerView: 6,\r\n            }\r\n        }\r\n    });\r\n }\r\n\r\n // 登出\r\n function logout(){\r\n    location.href = 'index.html';\r\n    localStorage.removeItem('loginMember');\r\n }","function memberOrderInit(){\r\n    localStorage.setItem(\"memberPageCode\",3);\r\n    const loginMember = JSON.parse(localStorage.getItem('loginMember'));\r\n    Promise.all([axios.get('http://localhost:3000/flowerOrders?usersId=' + loginMember.id),axios.get('http://localhost:3000/products')]).then(resp=>{\r\n        const orders = resp[0].data;\r\n        const products = resp[1].data;\r\n        renderOrder(orders,products)\r\n        \r\n    })\r\n    \r\n}\r\n\r\n// 渲染訂單的方法\r\nfunction renderOrder(orders, products){\r\n    let orderTemp = '';\r\n    const accordionArea = document.getElementById('accordionArea');\r\n    // 先渲染出每筆訂單\r\n    orders.forEach(o=>{\r\n        orderTemp += `\r\n        <div class=\"accordion-item\">\r\n            <h2 class=\"accordion-header\" id=\"headingOne${o.id}\">\r\n                <div class=\"accordion-button \" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapseOne${o.id}\" aria-expanded=\"true\" aria-controls=\"collapseOne${o.id}\">\r\n                    <div class=\"d-flex justify-content-between align-items-center w-100 pe-5\">\r\n                        <p class=\"m-0\">訂單編號：${o.serialNum}</p>\r\n                        <p class=\"m-0\">${o.orderDate.substring(0,10)}</p>\r\n                    </div>\r\n                </div>\r\n            </h2>\r\n            <div id=\"collapseOne${o.id}\" class=\"accordion-collapse collapse show\" aria-labelledby=\"headingOne${o.id}\" data-bs-parent=\"#accordionArea\">\r\n                <div class=\"accordion-body\" id=\"orderProductsArea\">\r\n                    <ul class=\"list-unstyled row\" id=\"productsArea${o.id}\">\r\n\r\n                        \r\n                    </ul>\r\n                </div>\r\n                <div class=\"w-100 bg-primaryTint py-3 pe-10 d-flex justify-content-end\">\r\n                    <div class=\"d-flex flex-column w-25 text-dark\">\r\n                        <div class=\"d-flex justify-content-between mb-1\">\r\n                            <p class=\"m-0\">小計：</p>\r\n                            <p class=\"m-0\">NT$ ${o.totalCost}</p>\r\n                        </div>\r\n                        <div class=\"d-flex justify-content-between mb-1\">\r\n                            <p class=\"m-0\">運費：</p>\r\n                            <p class=\"m-0\">NT$ 80</p>\r\n                        </div>\r\n                        <div class=\"d-flex justify-content-between mb-1 fw-bolder\">\r\n                            <p class=\"m-0\">總計：</p>\r\n                            <p class=\"m-0\">NT$ ${o.totalCost+80}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"accordion-body\">\r\n                    <p>訂單狀態：${o.state==1?'待出貨':(o.state==2?'已出貨':(o.state==3?'送達門市':'已取貨'))}</p>\r\n                    <p>付款方式：貨到付款</p>\r\n                    <p>收件地址：${o.address}</p>\r\n                </div>\r\n            </div>\r\n        </div>`;\r\n        \r\n    })\r\n    accordionArea.innerHTML = orderTemp;\r\n    \r\n    // 才能渲染每筆訂單內的所有商品\r\n    orders.forEach(o=>{\r\n        let productTemp = '';\r\n        const productsArea = document.getElementById(`productsArea${o.id}`);\r\n        o.flowers.forEach(p=>{\r\n            productTemp+=`\r\n                <li class=\"col-sm-6 col-xl-4 d-flex justify-content-around align-items-center mb-3\">\r\n                    <div class=\"radious8 orderProduct shadow\" style=\"background-image: url('assets/images/diy/${products[parseInt(p)-1].imgName}');\"></div>\r\n                    <p class=\"m-0\">${products[parseInt(p)-1].name}</p>\r\n                    <p class=\"m-0\">NT$${products[parseInt(p)-1].price}</p>\r\n                </li>\r\n            `\r\n        })\r\n        productTemp+=`\r\n            <li class=\"col-sm-6 col-xl-4 d-flex justify-content-around align-items-center mb-3\">\r\n                <div class=\"radious8 orderProduct shadow\" style=\"background-image: url('assets/images/diy/${products[parseInt(o.vases)-1].imgName}');\"></div>\r\n                <p class=\"m-0\">${products[parseInt(o.vases)-1].name}</p>\r\n                <p class=\"m-0\">NT$${products[parseInt(o.vases)-1].price}</p>\r\n            </li>\r\n        `\r\n        productsArea.innerHTML = productTemp;\r\n    })\r\n}\r\n","function productInit(){\r\n    const loginMember = JSON.parse(localStorage.getItem(\"loginMember\"));\r\n    if(!loginMember){\r\n        alert('請先登入');\r\n        location.href = 'login.html';\r\n    }else{\r\n        // 渲染表單\r\n        axios.get('http://localhost:3000/products').then(resp=>{\r\n            renderProductFlowerList(resp.data);\r\n            renderProductVaseList(resp.data);\r\n        })\r\n    }\r\n   \r\n\r\n   \r\n   \r\n}\r\n\r\n// 渲染花卉的方法\r\nfunction renderProductFlowerList(dataAry){\r\n    const productFlowerRenderArea = document.getElementById('productFlowerRenderArea');\r\n    let tempStr = '';\r\n    dataAry.filter(o=>o.type == \"flower\").forEach(o=>{\r\n        tempStr += `\r\n        <li class=\"col-6 col-md-4 col-lg-3 col-xl-2 mb-5 diy${o.id}-li\">\r\n            <label class=\"text-center w-100\" for=\"diy${o.id}\">\r\n                <div class=\"border border-primary80 w-100 p-1 mb-5 radious20 itemImage imgHover\" >\r\n                    <div class=\"productItem\" style=\"background-image: url('assets/images/diy/${o.imgName}');\">\r\n\r\n                    </div>\r\n                </div>\r\n                \r\n                <h3 class=\"h5 text-dark\">${o.name}</h3>\r\n                \r\n            </label>\r\n            <input type=\"checkbox\" name=\"flower\" id=\"diy${o.id}\" value=\"${o.id}\" data-price=\"${o.price}\" onclick=\"chedkedItem(${o.id})\" class=\"d-none\">\r\n        </li>\r\n        `\r\n    })\r\n    productFlowerRenderArea.innerHTML = tempStr;\r\n}\r\n\r\n// 給已選取的選項加上css效果\r\n// 花卉\r\nfunction chedkedItem(id){\r\n    const itemImage = document.querySelector('.diy'+id+'-li > label > .itemImage');\r\n    itemImage.classList.toggle('productItemBorder')\r\n    itemImage.classList.toggle('imgHover');\r\n}\r\n// 花瓶\r\nfunction checkedVase(id){\r\n    const thisVaseImage = document.querySelector('.diy'+id+'-li > label > .vaseImage'); // 當前點擊的容器圖片\r\n    const allVaseImage = document.querySelectorAll('.vaseImage');                       // 所有容器圖片\r\n    const allVaseInput = document.querySelectorAll('input[name=vase]');                 // 所有容器input\r\n    // 先拿掉所有的選中效果\r\n    allVaseImage.forEach(o=>{\r\n        o.classList.remove('productItemBorder');\r\n        o.classList.add('imgHover')\r\n    })\r\n    // 逐個判斷若是選中則加上效果\r\n    allVaseInput.forEach(o=>{\r\n        if(o.checked){\r\n            thisVaseImage.classList.add('productItemBorder')\r\n            thisVaseImage.classList.remove('imgHover')\r\n        }\r\n    })\r\n}\r\n\r\n// 渲染花瓶包裝的方法\r\nfunction renderProductVaseList(dataAry){\r\n    const productVaseRenderArea = document.getElementById('productVaseRenderArea');\r\n    let tempStr = '';\r\n    dataAry.filter(o=>o.type == \"decorate\").forEach(o=>{\r\n        tempStr+=`\r\n        <li class=\"col-6 col-md-4 col-lg-3 col-xl-2 mb-5 diy${o.id}-li\">\r\n            <label class=\"text-center w-100\" for=\"diy${o.id}\">\r\n                <div class=\"border border-primary80 w-100 p-1 mb-5 radious20 vaseImage imgHover\">\r\n                    <div class=\"productItem\" style=\"background-image: url('assets/images/diy/${o.imgName}');\">\r\n\r\n                    </div>\r\n                </div>\r\n                \r\n                <h3 class=\"h5 text-dark\">${o.name}</h3>\r\n                \r\n            </label>\r\n            <input type=\"radio\" name=\"vase\" id=\"diy${o.id}\" value=\"${o.id}\" data-price=\"${o.price}\" onclick=\"checkedVase(${o.id})\" class=\"d-none\">\r\n        </li>\r\n        `\r\n    })\r\n    productVaseRenderArea.innerHTML = tempStr;\r\n}\r\n\r\n// 送出訂單 + 表單驗證\r\nfunction sendProductOrder(){\r\n    const flowers = document.querySelectorAll('input[name=\"flower\"]');\r\n    const vases = document.querySelector('input[name = \"vase\"]');\r\n    const orderName = document.getElementById('orderName');\r\n    const orderPhoneNum = document.getElementById('orderPhoneNum');\r\n    const orderMail = document.getElementById('orderMail');\r\n    const orderAddress = document.getElementById('orderAddress');\r\n    const loginMember = JSON.parse(localStorage.getItem(\"loginMember\"));\r\n    \r\n    let vaseName = '';\r\n    let serialNumTemp = '';\r\n    let orderDate = new Date();\r\n    let productTotalCost = 0;\r\n    let order = {\r\n        \"flowers\" :[],\r\n    }\r\n    flowers.forEach(o=>{\r\n        if(o.checked){\r\n            order.flowers.push(o.value);\r\n            productTotalCost += parseInt(o.dataset.price);\r\n        }\r\n        \r\n    }) \r\n    order.vases = vases.value;\r\n    productTotalCost += parseInt(vases.dataset.price);\r\n    order.totalCost = productTotalCost;\r\n    order.name = orderName.value;\r\n    order.phone = orderPhoneNum.value;\r\n    order.mail = orderMail.value;\r\n    order.address = orderAddress.value;\r\n    order.usersId = loginMember.id;\r\n    order.orderDate = orderDate;\r\n    order.state = 1 // 1:訂單處理中 2:包裹配送中 3:包裹已送達 4:買家完成取貨付款\r\n    serialNumTemp += orderDate.getFullYear()+''+(orderDate.getMonth()+1)+orderDate.getDate()+createSerialNum();\r\n    order.serialNum = serialNumTemp;\r\n    // console.log(order);\r\n    if(order.flowers.length==0){\r\n        alert('請選擇想使用的花卉');\r\n        location.href = 'product.html#';\r\n    } else if(order.vases==''){\r\n        alert('請選擇想使用的容器或裝飾');\r\n        location.href = 'product.html#';\r\n    } else if(orderName.value==''||orderPhoneNum.value==''||orderMail.value==''||orderAddress.value==''){\r\n        alert('表單填寫不完全');\r\n    } else {\r\n        axios.post('http://localhost:3000/flowerOrders', order).then(resp=>{\r\n            alert('訂單已送出');\r\n            location.href = 'product.html'\r\n        }).catch(resp=>{\r\n            alert('訂單送出失敗')\r\n        })\r\n    }    \r\n}\r\n\r\n// 新增流水號\r\nfunction createSerialNum(){\r\n    let serialNum = '';\r\n    for(let i=0; i<5; i++){\r\n        serialNum += Math.floor(Math.random()*10);\r\n    }\r\n    return serialNum;\r\n}","// 頁面初始化\r\nfunction signUpInit(){\r\n    const singUpAccount = document.getElementById('singUpAccount');\r\n    const singUpPwd = document.getElementById('singUpPwd');\r\n    const checkPwd = document.getElementById('checkPwd');\r\n    const singUpName = document.getElementById('singUpName');\r\n    const signUpMail = document.getElementById('signUpMail');\r\n    const signUpPhone = document.getElementById('signUpPhone');\r\n    const signUpAddress = document.getElementById('signUpAddress');\r\n    const SignUpBT = document.getElementById('SignUpBT');\r\n    const checkPwdErrMSG = document.getElementById('checkPwdErrMSG');\r\n    const sameAccountErrMSG = document.getElementById('sameAccountErrMSG');\r\n    const sameMailErrMSG = document.getElementById('sameMailErrMSG');\r\n\r\n\r\n\r\n    SignUpBT.addEventListener('click',function(){\r\n        if(validSignUp()){\r\n            const member = newMember();\r\n            axios.post('http://localhost:3000/users', member).then(resp=>{\r\n                location.href = 'login.html';\r\n            })\r\n        }\r\n        \r\n    })\r\n\r\n}\r\n\r\n// 新增會員物件的方法\r\nfunction newMember(){\r\n    let member = {}\r\n    member.id = null;\r\n    member.name = singUpName.value;\r\n    member.account = singUpAccount.value;\r\n    member.password = singUpPwd.value;\r\n    member.mail = signUpMail.value;\r\n    member.phone = signUpPhone.value;\r\n    member.address = signUpAddress.value;\r\n    member.permission = 'commenUser';\r\n    return member;\r\n}\r\n\r\n// 註冊表單驗證\r\nfunction validSignUp(){\r\n    if(singUpAccount.value=='' || singUpPwd.value=='' || checkPwd.value=='' || singUpName.value=='' || signUpMail.value=='' || signUpPhone.value=='' || signUpAddress.value==''){\r\n        alert('表單輸入不完整! 請在檢查是否有未填欄位!');\r\n        location.href = 'signUp.html#';\r\n        return false;\r\n    } else if(checkPassword()){\r\n        alert('確認密碼與第一次輸入的密碼不相符!');\r\n        location.href = 'signUp.html#singUpPwd';\r\n        return false;\r\n    } else if(checkAccount()){\r\n        alert('帳號已註冊!');\r\n        location.href = 'signUp.html#singUpAccount';\r\n        return false;\r\n    } else if(chenkMail()){\r\n        alert('信箱已註冊!');\r\n        location.href = 'signUp.html#singUpMail';\r\n        return false;\r\n    } else {\r\n        return true;\r\n    }\r\n}\r\n\r\n// 判斷第二次輸入的密碼是否與第一次相同\r\nfunction checkPassword(){\r\n    checkPwdErrMSG.textContent = '';\r\n    if(singUpPwd.value !== checkPwd.value){\r\n        checkPwdErrMSG.textContent = '請輸入與第一次相同的密碼!';\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\n// 判斷帳號是否已註冊\r\nfunction checkAccount(){\r\n    sameAccountErrMSG.textContent = '';\r\n    axios.get('http://localhost:3000/users').then(resp => {\r\n        console.log(resp.data);\r\n        resp.data.forEach(o=>{\r\n            if(singUpAccount.value == o.account){\r\n                sameAccountErrMSG.textContent = '帳號已註冊! 請直接登入或使用其他帳號!';\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\n// 判斷信箱是否已註冊\r\nfunction chenkMail(){\r\n    sameMailErrMSG.textContent = '';\r\n    axios.get('http://localhost:3000/users').then(resp => {\r\n        console.log(resp.data);\r\n        resp.data.forEach(o=>{\r\n            if(signUpMail.value == o.mail){\r\n                sameMailErrMSG.textContent = '信箱已註冊! 請使用其他信箱!';\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        })\r\n    })\r\n}"]}